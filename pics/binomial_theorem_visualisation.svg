<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="-76 25 480 360">
 <title>Binomial theorem visualisation</title>
 <desc>Visualisation of binomial expansion up to the 4th power by CMG Lee.</desc>
 <defs>
  <g id="n1">
   <path id="a" d="M -40,0 h 30" stroke="#ff0000" stroke-width="2"/>
   <path id="b" d="M -10,0 h 10" stroke="#0000ff" stroke-width="2"/>
  </g>
  <path id="g1" d="M -40,0 h 40" stroke="#eeeeee"/>

  <g id="n2">
   <rect id="aa" x="-40" y="10" width="30" height="30" fill="#ff0000"/>
   <g id="ab2" fill="#00cc00">
    <rect id="ab" x="-40" y="0"  width="30" height="10"/>
    <rect id="ba" x="-10" y="10" width="10" height="30"/>
   </g>
   <rect id="bb" x="-10" y="0"  width="10" height="10" fill="#0000ff"/>
  </g>
  <use id="g2" xlink:href="#n2" fill-opacity="0" stroke="#eeeeee"/>

  <g id="aaa">
   <path d="M 5,-5 h -30 l -15,15 v 30 h 30 l 15,-15 z"/>
   <path d="M 5,-5 h -30 l -15,15 h 30 z"    fill="#ffffff" opacity="0.25"/>
   <path d="M 5,-5 l -15,15 v 30 l 15,-15 z" fill="#000000" opacity="0.25"/>
  </g>
  <g id="aab3">
   <g id="aab">
    <path d="M 10,-10 h -30 l -5,5 v 30 h 30 l 5,-5 z"/>
    <path d="M 10,-10 h -30 l -5,5 h 30 z"  fill="#ffffff" opacity="0.25"/>
    <path d="M 10,-10 l -5,5 v 30 l 5,-5 z" fill="#000000" opacity="0.25"/>
   </g>
   <g id="aba">
    <path d="M 5,-15 h -30 l -15,15 v 10 h 30 l 15,-15 z"/>
    <path d="M 5,-15 h -30 l -15,15 h 30 z"    fill="#ffffff" opacity="0.25"/>
    <path d="M 5,-15 l -15,15 v 10 l 15,-15 z" fill="#000000" opacity="0.25"/>
   </g>
   <g id="baa">
    <path d="M 15,-5 h -10 l -15,15 v 30 h 10 l 15,-15 z"/>
    <path d="M 15,-5 h -10 l -15,15 h 10 z"    fill="#ffffff" opacity="0.25"/>
    <path d="M 15,-5 l -15,15 v 30 l 15,-15 z" fill="#000000" opacity="0.25"/>
   </g>
  </g>
  <g id="abb3">
   <g id="abb">
    <path d="M 10,-20 h -30 l -5,5 v 10 h 30 l 5,-5 z"/>
    <path d="M 10,-20 h -30 l -5,5 h 30 z"  fill="#ffffff" opacity="0.25"/>
    <path d="M 10,-20 l -5,5 v 10 l 5,-5 z" fill="#000000" opacity="0.25"/>
   </g>
   <g id="bab">
    <path d="M 20,-10 h -10 l -5,5 v 30 h 10 l 5,-5 z"/>
    <path d="M 20,-10 h -10 l -5,5 h 10 z"  fill="#ffffff" opacity="0.25"/>
    <path d="M 20,-10 l -5,5 v 30 l 5,-5 z" fill="#000000" opacity="0.25"/>
   </g>
   <g id="bba">
    <path d="M 15,-15 h -10 l -15,15 v 10 h 10 l 15,-15 z"/>
    <path d="M 15,-15 h -10 l -15,15 h 10 z"    fill="#ffffff" opacity="0.25"/>
    <path d="M 15,-15 l -15,15 v 10 l 15,-15 z" fill="#000000" opacity="0.25"/>
   </g>
  </g>
  <g id="bbb">
   <path d="M 20,-20 h -10 l -5,5 v 10 h 10 l 5,-5 z"/>
   <path d="M 20,-20 h -10 l -5,5 h 10 z"  fill="#ffffff" opacity="0.25"/>
   <path d="M 20,-20 l -5,5 v 10 l 5,-5 z" fill="#000000" opacity="0.25"/>
  </g>
  <g id="n3">
   <use xlink:href="#aaa" fill="#ff0000"/>
   <g fill="#00cc66">
    <use xlink:href="#abb"/>
    <use xlink:href="#bab"/>
   </g>
   <use xlink:href="#bbb" fill="#0000ff"/>
   <g fill="#cccc00">
    <use xlink:href="#aba"/>
    <use xlink:href="#baa"/>
   </g>
   <g fill="#00cc66">
    <use xlink:href="#bba"/>
   </g>
  </g>
  <use id="g3" xlink:href="#n3" fill-opacity="0" stroke="#eeeeee"/>

  <g id="lab">
   <path id="la" d="M 0,0 l -33,-33" stroke-dasharray="8,2" stroke="#cc00ff"/>
   <path id="lb" d="M 0,0 l 11,11"   stroke-dasharray="2,2" stroke="#9900cc"/>
  </g>
  <g id="na4">
   <use xlink:href="#aaa" fill="#ff0000"/>
   <g fill="#00cc00">
    <use xlink:href="#abb"/>
    <use xlink:href="#bab"/>
   </g>
   <use xlink:href="#bbb" fill="#0099ff"/>
   <g fill="#ff9900">
    <use xlink:href="#aba"/>
    <use xlink:href="#baa"/>
   </g>
   <g fill="#00cc00">
    <use xlink:href="#bba"/>
   </g>
  </g>
  <g id="nb4">
   <use xlink:href="#aaa" fill="#ff9900"/>
   <g fill="#0099ff">
    <use xlink:href="#abb"/>
    <use xlink:href="#bab"/>
   </g>
   <use xlink:href="#bbb" fill="#0000ff"/>
   <g fill="#00cc00">
    <use xlink:href="#aba"/>
    <use xlink:href="#baa"/>
   </g>
   <g fill="#0099ff">
    <use xlink:href="#bba"/>
   </g>
  </g>
  <g id="n4">
   <use xlink:href="#na4" transform="translate(-33,-33)"/>
   <use xlink:href="#nb4" opacity="0.5"/>
   <use xlink:href="#na4" opacity="0.5"/>
   <use xlink:href="#nb4" transform="translate(11,11)"/>
   <use xlink:href="#lab" transform="translate(20,-20)"/>
   <use xlink:href="#lab" transform="translate(-40,40)"/>
  </g>
 </defs>

 <circle cx="0" cy="0" r="99999" fill="#ffffff"/>

 <g font-family="Arial,Helvetica,sans-serif" font-size="16" text-anchor="middle" stroke-linejoin="round" stroke="#000000" fill="#000000">
  <g transform="translate(0,55)">
   <use xlink:href="#n1" transform="translate(-0,0)"/>
   <g transform="translate(-15,-10)" stroke="none">
    <text x="0" y="0"><tspan>(</tspan><tspan font-style="italic">a</tspan><tspan>+</tspan><tspan font-style="italic">b</tspan><tspan>)</tspan><tspan dy="-8" font-size="12">1</tspan></text>
    <text x="50" y="0"><tspan>=</tspan></text>
    <text x="90" y="0"><tspan font-style="italic">a</tspan></text>
    <text x="245" y="0"><tspan>+</tspan></text>
    <text x="405" y="0"><tspan font-style="italic">b</tspan></text>
   </g>
   <g transform="translate(100,0)"><use xlink:href="#g1"/><use xlink:href="#a"/></g>
   <g transform="translate(395,0)"><use xlink:href="#g1"/><use xlink:href="#b"/></g>
  </g>

  <g transform="translate(0,100)">
   <use xlink:href="#n2" transform="translate(-0,0)"/>
   <g transform="translate(-15,-10)" stroke="none">
    <text x="0" y="0"><tspan>(</tspan><tspan font-style="italic">a</tspan><tspan>+</tspan><tspan font-style="italic">b</tspan><tspan>)</tspan><tspan dy="-8" font-size="12">2</tspan></text>
    <text x="50" y="0"><tspan>=</tspan></text>
    <text x="95" y="0"><tspan font-style="italic">a</tspan><tspan dy="-8" font-size="12">2</tspan></text>
    <text x="165" y="0"><tspan>+</tspan></text>
    <text x="245" y="0"><tspan>2</tspan><tspan font-style="italic">ab</tspan></text>
    <text x="325" y="0"><tspan>+</tspan></text>
    <text x="408" y="0"><tspan font-style="italic">b</tspan><tspan dy="-8" font-size="12">2</tspan></text>
   </g>
   <g transform="translate(100,0)"><use xlink:href="#g2"/><use xlink:href="#aa"/></g>
   <g transform="translate(250,0)"><use xlink:href="#g2"/><use xlink:href="#ab2"/></g>
   <g transform="translate(395,0)"><use xlink:href="#g2"/><use xlink:href="#bb"/></g>
  </g>

  <g transform="translate(0,200)">
   <use xlink:href="#n3" transform="translate(-0,0)"/>
   <g transform="translate(-15,-30)" stroke="none">
    <text x="0" y="0"><tspan>(</tspan><tspan font-style="italic">a</tspan><tspan>+</tspan><tspan font-style="italic">b</tspan><tspan>)</tspan><tspan dy="-8" font-size="12">3</tspan></text>
    <text x="50" y="0"><tspan>=</tspan></text>
    <text x="100" y="0"><tspan font-style="italic">a</tspan><tspan dy="-8" font-size="12">3</tspan></text>
    <text x="145" y="0"><tspan>+</tspan></text>
    <text x="200" y="0"><tspan>3</tspan><tspan font-style="italic">a</tspan><tspan dy="-8" font-size="12">2</tspan><tspan dy="8" font-style="italic">b</tspan></text>
    <text x="250" y="0"><tspan>+</tspan></text>
    <text x="305" y="0"><tspan>3</tspan><tspan font-style="italic">ab</tspan><tspan dy="-8" font-size="12">2</tspan></text>
    <text x="360" y="0"><tspan>+</tspan></text>
    <text x="405" y="0"><tspan font-style="italic">b</tspan><tspan dy="-8" font-size="12">3</tspan></text>
   </g>
   <g transform="translate(100,0)"><use xlink:href="#g3"/><use xlink:href="#aaa"  fill="#ff0000"/></g>
   <g transform="translate(195,0)"><use xlink:href="#g3"/><use xlink:href="#aab3" fill="#cccc00"/></g>
   <g transform="translate(290,0)"><use xlink:href="#g3"/><use xlink:href="#abb3" fill="#00cc66"/></g>
   <g transform="translate(375,0)"><use xlink:href="#g3"/><use xlink:href="#bbb"  fill="#0000ff"/></g>
  </g>

  <g transform="translate(0,330)">
   <use xlink:href="#n4" transform="translate(-0,0)"/>
   <g transform="translate(-15,-60)" stroke="none">
    <text x="0" y="0"><tspan>(</tspan><tspan font-style="italic">a</tspan><tspan>+</tspan><tspan font-style="italic">b</tspan><tspan>)</tspan><tspan dy="-8" font-size="12">4</tspan></text>
    <text x="50" y="0"><tspan>=</tspan></text>
    <text x="100" y="0"><tspan font-style="italic">a</tspan><tspan dy="-8" font-size="12">4</tspan></text>
    <text x="135" y="0"><tspan>+</tspan></text>
    <text x="175" y="0"><tspan>4</tspan><tspan font-style="italic">a</tspan><tspan dy="-8" font-size="12">3</tspan><tspan dy="8" font-style="italic">b</tspan></text>
    <text x="215" y="0"><tspan>+</tspan></text>
    <text x="260" y="0"><tspan>6</tspan><tspan font-style="italic">a</tspan><tspan dy="-8" font-size="12">2</tspan><tspan dy="8" font-style="italic">b</tspan><tspan dy="-8" font-size="12">2</tspan></text>
    <text x="300" y="0"><tspan>+</tspan></text>
    <text x="340" y="0"><tspan>4</tspan><tspan font-style="italic">ab</tspan><tspan dy="-8" font-size="12">3</tspan></text>
    <text x="375" y="0"><tspan>+</tspan></text>
    <text x="405" y="0"><tspan font-style="italic">b</tspan><tspan dy="-8" font-size="12">4</tspan></text>
   </g>
   <g transform="translate(130,0)" fill="#ff0000">
    <use xlink:href="#g4"/>
    <use xlink:href="#aaa" opacity="0.5"/>
    <use xlink:href="#aaa" transform="translate(-33,-33)"/>
    <use xlink:href="#la"  transform="translate(5,-5)"/>
    <use xlink:href="#la"  transform="translate(-40,40)"/>
   </g>
   <g transform="translate(205,0)" fill="#ff9900">
    <use xlink:href="#g4"/>
    <use xlink:href="#aab3" transform="translate(-33,-33)"/>
    <use xlink:href="#aab3" opacity="0.5"/>
    <use xlink:href="#aaa"  opacity="0.5"/>
    <use xlink:href="#aaa"  transform="translate(11,11)"/>
    <use xlink:href="#la"   transform="translate(5,-15)"/>
    <use xlink:href="#la"   transform="translate(-40,10)"/>
    <use xlink:href="#lb"   transform="translate(-40,40)"/>
    <use xlink:href="#lb"   transform="translate(5,-5)"/>
   </g>
   <g transform="translate(275,0)" fill="#00cc00">
    <use xlink:href="#g4"/>
    <use xlink:href="#abb3" transform="translate(-33,-33)"/>
    <use xlink:href="#abb3" opacity="0.5"/>
    <use xlink:href="#aab3" opacity="0.5"/>
    <use xlink:href="#aab3" transform="translate(11,11)"/>
    <use xlink:href="#la"   transform="translate(10,-20)"/>
    <use xlink:href="#la"   transform="translate(-25,-5)"/>
    <use xlink:href="#lb"   transform="translate(-40,10)"/>
    <use xlink:href="#lb"   transform="translate(5,-15)"/>
   </g>
   <g transform="translate(335,0)" fill="#0099ff">
    <use xlink:href="#g4"/>
    <use xlink:href="#bbb"  transform="translate(-33,-33)"/>
    <use xlink:href="#bbb"  opacity="0.5"/>
    <use xlink:href="#abb3" opacity="0.5"/>
    <use xlink:href="#abb3" transform="translate(11,11)"/>
    <use xlink:href="#la"   transform="translate(20,-20)"/>
    <use xlink:href="#la"   transform="translate(5,-5)"/>
    <use xlink:href="#lb"   transform="translate(-25,-5)"/>
    <use xlink:href="#lb"   transform="translate(10,-20)"/>
   </g>
   <g transform="translate(370,0)" fill="#0000ff">
    <use xlink:href="#g4"/>
    <use xlink:href="#bbb" opacity="0.5"/>
    <use xlink:href="#bbb" transform="translate(11,11)"/>
    <use xlink:href="#lb"  transform="translate(20,-20)"/>
    <use xlink:href="#lb"  transform="translate(5,-5)"/>
   </g>
  </g>
 </g>
</svg>
